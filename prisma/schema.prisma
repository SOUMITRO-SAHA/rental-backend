// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

enum AuthRoles {
  USER
  ADMIN
  MANAGER
  TENDER
}

model User {
  id                   Int       @id @default(autoincrement())
  name                 String
  email                String    @unique
  password             String
  role                 AuthRoles @default(USER)
  forgotPasswordToken  String?
  forgotPasswordExpiry DateTime?
  createdAt            DateTime  @default(now())
  updatedAt            DateTime  @updatedAt
}

model Amenity {
  id         Int        @id @default(autoincrement())
  name       String
  properties Property[] @relation("PropertyAmenities")
}

model Property {
  id                 Int      @id @default(autoincrement())
  numberOfBedrooms   Int
  numberOfBathrooms  Int
  possession         String
  hasBalcony         Boolean
  isApartment        Boolean
  hasParking         Boolean
  hasPowerBackup     Boolean
  buildingAge        String
  maintenanceCharges Float
  builtupArea        Float
  furnishingStatus   String
  floor              String
  gatedSecurity      Boolean
  ownershipType      String
  flooring           String
  carpetArea         Float
  facing             String
  location           String
  createdAt          DateTime @default(now())
  updatedAt          DateTime @updatedAt

  amenities Amenity[] @relation("PropertyAmenities")
}
